{"version":3,"sources":["constants.js","utils/utils.js","reducer.js","features/square/square.js","features/button-controls/buttonUtils.js","features/button-controls/buttons.js","index.js"],"names":["IMG","COIN","BUTTON_SETUP","left","type","posChange","up","right","down","KEY_DOWN_SET_UP","OUT_OF_RANGE_SETUP","generateCoinPos","magePos","size","boardSize","Math","pow","coinPos","floor","random","startingPos","mage","coin","Array","fill","reduce","obj","item","index","squareObj","value","id","getInitState","Constants","initState","initPositions","rootReducer","combineReducers","squares","state","action","currentMagePos","newMagePos","img","newCoinPos","coinImg","coinAndMagePos","console","dir","position","gameOver","isOver","score","store","createStore","Square","props","getImage","className","whichImage","image","src","style","width","height","makeMove","dispatch","log","isScored","hasScored","isOutOfRange","includes","ButtonPanel","buttons","Button","Object","keys","map","key","buttonObj","class","Utils","useDispatch","onClick","Board","handleKeyDown","event","keyCode","keyObj","React","useEffect","window","addEventListener","removeEventListener","board","squaresObj","rowLength","i","length","rowEndIndex","row","j","push","Game","useSelector","render","isGameOver","renderBoard","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d60b341a.chunk.js","sourcesContent":["export const BOARD_SIZE = 5;\nexport const MAGE_START_POS = 12;\nexport const IMG = \"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e32c26ba-2bab-4113-ae4d-2e0fddb012f3/dbhkef2-0480b859-092c-47fc-ba78-5f299736997e.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2UzMmMyNmJhLTJiYWItNDExMy1hZTRkLTJlMGZkZGIwMTJmM1wvZGJoa2VmMi0wNDgwYjg1OS0wOTJjLTQ3ZmMtYmE3OC01ZjI5OTczNjk5N2UuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.tNrQD0-ER3hxMGn67aqGJm8fSUcTuDFEkXtLgYT9SfU\";\nexport const COIN = \"./dodg.gif\";\n\nexport const BUTTON_SETUP = {\n    left: {\n        type: 'MOVE_LEFT',\n        posChange: 1\n    },\n    up: {\n        type: 'MOVE_UP',\n        posChange: 5\n    },\n    right: {\n        type: 'MOVE_RIGHT',\n        posChange: -1\n    },\n    down: {\n        type: 'MOVE_DOWN',\n        posChange: -5\n    }\n}\n\nexport const KEY_DOWN_SET_UP = {\n    '37': {\n        type: 'MOVE_LEFT',\n        posChange: 1\n    },\n    '38': {\n        type: 'MOVE_UP',\n        posChange: 5\n    },\n    '39': {\n        type: 'MOVE_RIGHT',\n        posChange: -1\n    },\n    '40': {\n        type: 'MOVE_DOWN',\n        posChange: -5\n    }\n}\n\n//range of indexes moving from which\n//we will get out of range and game will be over\nexport const OUT_OF_RANGE_SETUP = {\n    \"1\": [0, 5, 10, 15, 20],\n    \"5\": [0, 1, 2, 3, 4],\n    \"-1\": [4, 9, 14, 19, 24],\n    \"-5\": [20, 21, 22, 23, 24]\n};\n","export const getInitState = (size, startingPos, mage, coin) => {\n    const coinPos = generateCoinPos(startingPos, size);\n    const boardSize = Math.pow(size, 2);\n    const initObj = {};\n\n    const initState = Array(boardSize).fill(null).reduce(\n        (obj, item, index) => {\n\n            const setMage = startingPos === index\n                ? mage\n                : null;\n\n            const setCoin = coinPos === index\n                ? coin\n                : null;\n\n            const squareObj = {\n                value: null,\n                id: index,\n                mage: setMage,\n                coin: setCoin\n            };\n\n            return {\n                ...obj,\n                [index]: squareObj\n            };\n        }, initObj\n    );\n\n    return [initState, coinPos]\n}\n\nexport const generateBoard = (squaresObj, Square, rowLength) => {\n    const keys = Object.keys(squaresObj);\n    const board = [];\n\n    for (let i = 0; i < keys.length; i += rowLength) {\n\n        const rowEndIndex = i + rowLength;\n        let row = [];\n\n        for (let j = i; j < rowEndIndex; j++) {\n            row.push(\n                <Square\n                    key={j}\n                    id={j}\n                    squareObj={squaresObj[j]}\n                />\n            );\n        };\n\n        board.push(\n            <div key={i} className=\"board-row\">\n                {row}\n            </div>\n        );\n\n    };\n    return board;\n}\n\nexport const generateCoinPos = (magePos, size) => {\n    const boardSize = Math.pow(size, 2);\n    const coinPos = Math.floor(Math.random() * boardSize);\n\n    if (coinPos === magePos) {\n        const backUpPos = generateCoinPos(magePos, size);\n        return backUpPos;\n\n    } else {\n        return coinPos;\n    }\n}","import { createStore, combineReducers } from 'redux';\nimport * as Constants from './constants.js';\nimport { getInitState } from './utils/utils.js';\n\n// since coinPos is a random number, need to\n// return it back from InitState func\nconst [initState, coinPos] = getInitState(\n    Constants.BOARD_SIZE,\n    Constants.MAGE_START_POS,\n    Constants.IMG,\n    Constants.COIN\n);\n\nconst initPositions = {\n    'mage': Constants.MAGE_START_POS,\n    'coin': coinPos\n};\n\n\n// each square calls this and gets updated state\nconst squares = (state = initState, action) => {\n    switch (action.type) {\n        case \"MOVE_UP\":\n        case \"MOVE_DOWN\":\n        case \"MOVE_RIGHT\":\n        case \"MOVE_LEFT\":\n            return {\n                ...state,\n                [action.currentMagePos]: {\n                    ...state[action.currentMagePos],\n                    mage: null\n                },\n                [action.newMagePos]: {\n                    ...state[action.newMagePos],\n                    mage: action.img\n                }\n            }\n        case \"MOVE_UP_COIN_RESET\":\n        case \"MOVE_DOWN_COIN_RESET\":\n        case \"MOVE_RIGHT_COIN_RESET\":\n        case \"MOVE_LEFT_COIN_RESET\":\n            return {\n                ...state,\n                [action.currentMagePos]: {\n                    ...state[action.currentMagePos],\n                    mage: null\n                },\n                [action.newMagePos]: {\n                    ...state[action.newMagePos],\n                    mage: action.img,\n                    coin: null\n                },\n                [action.newCoinPos]: {\n                    ...state[action.newCoinPos],\n                    coin: action.coinImg\n                }\n            }\n        case \"RESET\":\n            return initState;\n        default:\n            return state\n    }\n};\n\nconst coinAndMagePos = (state = initPositions, action) => {\n    switch (action.type) {\n        case \"UPDATE_BOTH\":\n            console.dir(action);\n            return {\n                ...state,\n                [action.coin]: action.coinPos,\n                [action.mage]: action.magePos\n            }\n        case \"UPDATE_MAGE_POS\":\n            return {\n                ...state,\n                [action.mage]: action.position\n            }\n        case \"UPDATE_COIN_POS\":\n            return {\n                ...state,\n                [action.coin]: action.position\n            }\n        case \"RESET\":\n            return initPositions;\n        default:\n            return state\n    };\n}\n\nconst gameOver = (state = false, action) => {\n    switch (action.type) {\n        case \"GAME_OVER\":\n            return action.isOver;\n        case \"RESET\":\n            return false;\n        default:\n            return state\n    };\n}\n\nconst score = (state = 0, action) => {\n    switch (action.type) {\n        case \"ADD_ONE\":\n            return state + action.value;\n        case \"RESET\":\n            return 0;\n        default:\n            return state;\n    }\n}\n\n\n\nconst rootReducer = combineReducers({\n    squares: squares,\n    coinAndMagePos: coinAndMagePos,\n    gameOver: gameOver,\n    score: score\n});\n\nconst store = createStore(rootReducer);\nexport { store };","\nexport const Square = (props) => {\n    const squareObj = props.squareObj;\n\n    const mage = getImage(\"mage\", squareObj.mage);\n    const coin = getImage(\"coin\", squareObj.coin);\n\n    return (\n        <div className='square' id={props.id} >\n            {mage || coin}\n        </div>\n    );\n};\n\nconst getImage = (whichImage, image) => {\n    switch (whichImage) {\n        case \"mage\":\n            const mage = image\n                ? <img src={image} style={{ width: \"100%\", height: \"100%\" }} />\n                : null;\n            return mage;\n        case \"coin\":\n            const coin = image\n                ? <img src={image} style={{ width: \"50%\", height: \"50%\" }} />\n                : null;\n            return coin;\n    }\n}","import * as Constants from \"../../constants.js\"\nimport { generateCoinPos } from \"../../utils/utils.js\";\n\n\nexport const buttonSetUp = (Button, props) => {\n    const buttons = Object.keys(Constants.BUTTON_SETUP).map(key => {\n        const buttonObj = Constants.BUTTON_SETUP[key];\n\n        return (\n            <Button\n                key={key}\n                class='button'\n                value={key}\n                makeMove={makeMove}\n                coinAndMagePos={props.coinAndMagePos}\n                buttonObj={buttonObj}\n                img={props.img}\n                coinImg={props.coinImg}\n            />\n        )\n    })\n\n    return buttons;\n}\n\nexport const makeMove = (coinAndMagePos, img, coinImg, obj, dispatch) => {\n    console.log('makeMove')\n    // do a check to see if we have gone over the boarder first\n    const currentMagePos = coinAndMagePos.mage;\n    const posChange = obj['posChange'];\n    const type = obj['type'];\n\n    const newMagePos = currentMagePos - posChange;\n    const isScored = hasScored(coinAndMagePos, posChange);\n\n\n    const isGameOver = isOutOfRange(currentMagePos, posChange);\n    if (isGameOver) {\n        dispatch({\n            type: 'GAME_OVER',\n            isOver: true\n        });\n    } else if (isScored) {\n        const newCoinPos = generateCoinPos(newMagePos, Constants.BOARD_SIZE);\n        dispatch({\n            type: `${type}_COIN_RESET`,\n            currentMagePos: currentMagePos,\n            newMagePos: newMagePos,\n            newCoinPos: newCoinPos,\n            img: img,\n            coinImg: coinImg\n        });\n        dispatch({\n            type: 'UPDATE_BOTH',\n            mage: 'mage',\n            magePos: newMagePos,\n            coin: 'coin',\n            coinPos: newCoinPos\n        });\n        dispatch({\n            type: 'ADD_ONE',\n            value: 1\n        });\n    } else {\n        dispatch({\n            type: type,\n            currentMagePos: currentMagePos,\n            newMagePos: newMagePos,\n            img: img\n        });\n        dispatch({\n            type: 'UPDATE_MAGE_POS',\n            mage: 'mage',\n            position: newMagePos\n        });\n    }\n}\n\nconst isOutOfRange = (magePos, posChange) => {\n    const outRangeList = Constants.OUT_OF_RANGE_SETUP[`${posChange}`];\n    return outRangeList.includes(magePos);\n}\n\n\nconst hasScored = (coinAndMagePos, posChange) => {\n    const newMagePos = coinAndMagePos.mage - posChange;\n    return newMagePos === coinAndMagePos.coin;\n}\n","import { useDispatch } from \"react-redux\"\nimport * as Utils from \"./buttonUtils.js\"\n\nexport const ButtonPanel = (props) => {\n    const buttons = Utils.buttonSetUp(Button, props);\n\n    return (\n        <div className='controls'>\n            {buttons}\n        </div>\n    )\n}\n\nconst Button = (props) => {\n    const dispatch = useDispatch();\n    return (\n        <div className={props.class} onClick={() => props.makeMove(\n            props.coinAndMagePos,\n            props.img,\n            props.coinImg,\n            props.buttonObj,\n            dispatch\n        )}>\n            {props.value}\n        </div>\n    )\n}","import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport './styles/button-controls.css';\n\nimport { store } from './reducer.js'\nimport { Provider } from 'react-redux';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport * as Utils from './utils/utils.js';\nimport * as Constants from './constants.js';\nimport { Square } from './features/square/square.js';\nimport { ButtonPanel } from './features/button-controls/buttons.js';\nimport { makeMove } from './features/button-controls/buttonUtils.js';\n\n\n\nconst Board = (props) => {\n    console.log('reset');\n    // const dispatch = useDispatch();\n\n    const handleKeyDown = (event) => {\n\n        const keyCodes = Object.keys(Constants.KEY_DOWN_SET_UP);\n        const isMoveMade = keyCodes.includes(`${event.keyCode}`)\n            ? true\n            : false;\n\n        if (isMoveMade) {\n            console.log(event.keyCode);\n            const keyObj = Constants.KEY_DOWN_SET_UP[`${event.keyCode}`];\n            makeMove(\n                props.coinAndMagePos,\n                props.img,\n                props.coinImg,\n                keyObj,\n                props.dispatch\n            );\n        }\n        // console.log(\"key was pressed\", event.keyCode);\n\n    }\n\n    // adding here since this components unmounts if we lose the game\n    React.useEffect(() => {\n        window.addEventListener('keydown', handleKeyDown);\n        console.log('useEffect here!')\n\n        return () => {\n            // cleanup this component\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n\n    }, [props.coinAndMagePos.coin, handleKeyDown]);\n\n    const board = Utils.generateBoard(\n        props.squares,\n        Square,\n        Constants.BOARD_SIZE\n    );\n\n    return (\n        <div className={props.class}>\n            {board}\n        </div>\n    );\n}\n\n\nconst Game = () => {\n    const score = useSelector(store => store.score);\n    const dispatch = useDispatch();\n    const isGameOver = useSelector(store => store.gameOver);\n    const squares = useSelector(store => store.squares);\n    const coinAndMagePos = useSelector(store => store.coinAndMagePos);\n\n    const render = renderBoard(\n        dispatch,\n        isGameOver,\n        squares,\n        coinAndMagePos,\n        score\n    );\n\n    return (\n        <div className=\"game\">\n            {render}\n        </div>\n    );\n}\n\n// ========================================\n\nReactDOM.render(\n    <Provider store={store}>\n        <Game />\n    </Provider>,\n    document.getElementById('root')\n);\n\nfunction renderBoard(dispatch, isGameOver, squares, coinAndMagePos, score) {\n    if (isGameOver) {\n        return (\n            <div className=\"game-board\">\n                <div className=\"score\">Score: {score}</div>\n                <div className=\"board lost\">YOU LOST YOU FILTY COW!</div>\n                <button onClick={() =>\n                    dispatch({\n                        type: 'RESET',\n                    })\n                }>restart</button>\n            </div >\n        )\n    } else {\n        return (\n            <div className=\"game-board\">\n                <div className=\"score\">Score: {score}</div>\n                <Board\n                    class=\"board\"\n                    squares={squares}\n                    coinAndMagePos={coinAndMagePos}\n                    img={Constants.IMG}\n                    coinImg={Constants.COIN}\n                    dispatch={dispatch}\n                />\n                <ButtonPanel\n                    coinAndMagePos={coinAndMagePos}\n                    img={Constants.IMG}\n                    coinImg={Constants.COIN}\n                />\n            </div>\n        )\n    }\n}\n\n\nconst useKeyDown = (callback, props) => {\n    useEffect(() => {\n        window.addEventListener('keydown', callback);\n        return () => window.removeEventListener('keydown', callback)\n    }, [callback]);\n}\n\n"],"sourceRoot":""}