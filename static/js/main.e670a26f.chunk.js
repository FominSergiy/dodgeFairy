(this.webpackJsonpdodge_fairy=this.webpackJsonpdodge_fairy||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(5),a=n.n(i),o=(n(16),n(17),n(3)),s=n(2),u=n(11),O=n(6),j=n(10),d="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e32c26ba-2bab-4113-ae4d-2e0fddb012f3/dbhkef2-0480b859-092c-47fc-ba78-5f299736997e.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2UzMmMyNmJhLTJiYWItNDExMy1hZTRkLTJlMGZkZGIwMTJmM1wvZGJoa2VmMi0wNDgwYjg1OS0wOTJjLTQ3ZmMtYmE3OC01ZjI5OTczNjk5N2UuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.tNrQD0-ER3hxMGn67aqGJm8fSUcTuDFEkXtLgYT9SfU",l="./dodg.gif",b={37:{type:"MOVE_LEFT",posChange:1},38:{type:"MOVE_UP",posChange:5},39:{type:"MOVE_RIGHT",posChange:-1},40:{type:"MOVE_DOWN",posChange:-5}},m={1:[0,5,10,15,20],5:[0,1,2,3,4],"-1":[4,9,14,19,24],"-5":[20,21,22,23,24]},g=n(4),h=function(e){return function(t){t({type:"DECREMENT_COUNTER",timerId:e})}},f=n(1),E=function(e,t,n,c,r,i){60===i&&v(i,r);var a=e.mage,o=c.posChange,s=c.type,u=a-o,O=M(e,o);if(y(a,o))r((function(e){e({type:"GAME_OVER",isOver:!0})}));else if(O){r(function(e,t,n,c,r,i){return function(a){a(function(e,t,n,c,r,i){return{type:"".concat(e,"_COIN_RESET"),currentMagePos:t,newMagePos:n,newCoinPos:c,img:r,coinImg:i}}(e,t,n,c,r,i)),a(function(e,t){return{type:"UPDATE_BOTH",mage:"mage",magePos:e,coin:"coin",coinPos:t}}(n,c)),a({type:"ADD_ONE",value:1})}}(s,a,u,w(u,5),t,n))}else r(function(e,t,n,c){return function(r){r(function(e,t,n,c){return{type:e,currentMagePos:t,newMagePos:n,img:c}}(e,t,n,c)),r({type:"UPDATE_MAGE_POS",mage:"mage",position:n})}}(s,a,u,t))},v=function(e,t){e--,t(h());var n=setTimeout((function c(){0===e?t((function(e){e({type:"GAME_OVER",isOver:!0})})):(e--,n=setTimeout(c,1e3),t(h(n)))}),1e3)},y=function(e,t){return m["".concat(t)].includes(e)},M=function(e,t){return e.mage-t===e.coin},T=function(e){var t=Object(g.b)();return r.a.useEffect((function(){var e=function(e){13===e.keyCode&&t({type:"RESET"})};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(f.jsxs)("div",{className:"game-board",children:[Object(f.jsxs)("div",{className:"board lost",children:[Object(f.jsx)("img",{src:e.img,style:{width:"25%",height:"25%"},alt:"nothing"}),e.renderScore]}),Object(f.jsx)("button",{className:"resetButton",onClick:function(){return t({type:"RESET"})},children:"restart"})]})},w=function e(t,n){var c=Math.pow(n,2),r=Math.floor(Math.random()*c);return r===t?e(t,n):r},p=function(e){var t=N(e);return Object(f.jsxs)("div",{className:"finalScore",children:[Object(f.jsxs)("h2",{children:["Your Score: ",e]}),Object(f.jsx)("h3",{children:t})]})},N=function(e){var t=null;return e>=0&&(t="Try harder next time!"),e>5&&(t="Are you sure you are using keyboard?"),e>10&&(t="Your rocket crashed back on Earth!"),e>20&&(t="I can see DODG high in the sky!"),e>50&&(t="You are really good at this!"),e>100&&(t="TO THE MOOOON!"),t},_=function(e,t,n,c){var r=w(t,e),i=Math.pow(e,2);return[Array(i).fill(null).reduce((function(e,i,a){var u={value:null,id:a,mage:t===a?n:null,coin:r===a?c:null};return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},a,u))}),{}),r]}(5,12,d,l),x=Object(u.a)(_,2),I=x[0],P={mage:12,coin:x[1]},k={time:60,timerId:null},C=Object(O.b)({squares:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"MOVE_UP":case"MOVE_DOWN":case"MOVE_RIGHT":case"MOVE_LEFT":return Object(s.a)(Object(s.a)({},n),{},(e={},Object(o.a)(e,c.currentMagePos,Object(s.a)(Object(s.a)({},n[c.currentMagePos]),{},{mage:null})),Object(o.a)(e,c.newMagePos,Object(s.a)(Object(s.a)({},n[c.newMagePos]),{},{mage:c.img})),e));case"MOVE_UP_COIN_RESET":case"MOVE_DOWN_COIN_RESET":case"MOVE_RIGHT_COIN_RESET":case"MOVE_LEFT_COIN_RESET":return Object(s.a)(Object(s.a)({},n),{},(t={},Object(o.a)(t,c.currentMagePos,Object(s.a)(Object(s.a)({},n[c.currentMagePos]),{},{mage:null})),Object(o.a)(t,c.newMagePos,Object(s.a)(Object(s.a)({},n[c.newMagePos]),{},{mage:c.img,coin:null})),Object(o.a)(t,c.newCoinPos,Object(s.a)(Object(s.a)({},n[c.newCoinPos]),{},{coin:c.coinImg,mage:null})),t));case"RESET":return I;default:return n}},coinAndMagePos:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_BOTH":return Object(s.a)(Object(s.a)({},t),{},(e={},Object(o.a)(e,n.coin,n.coinPos),Object(o.a)(e,n.mage,n.magePos),e));case"UPDATE_MAGE_POS":return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},n.mage,n.position));case"UPDATE_COIN_POS":return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},n.coin,n.position));case"RESET":return P;default:return t}},gameOver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAME_OVER":return t.isOver;case"RESET":return!1;default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ONE":return e+t.value;case"RESET":return 0;default:return e}},timer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DECREMENT_COUNTER":return Object(s.a)(Object(s.a)({},t),{},(e={},Object(o.a)(e,"time",t.time-1),Object(o.a)(e,"timerId",n.timerId),e));case"RESET":return k;default:return t}}}),D=Object(O.c)(C,Object(O.a)(j.a)),G=function(e){var t=e.squareObj,n=R("mage",t.mage),c=R("coin",t.coin);return Object(f.jsx)("div",{className:"square",id:e.id,children:n||c})},R=function(e,t){switch(e){case"mage":return t?Object(f.jsx)("img",{src:t,style:{width:"100%",height:"100%"}}):null;case"coin":return t?Object(f.jsx)("img",{src:t,style:{width:"50%",height:"50%"}}):null}},S=function(e){r.a.useEffect((function(){var t=function(t){if(!!Object.keys(b).includes("".concat(t.keyCode))){var n=b["".concat(t.keyCode)];E(e.coinAndMagePos,e.img,e.coinImg,n,e.dispatch,e.timer)}};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]);var t=function(e,t,n){for(var c=Object.keys(e),r=[],i=0;i<c.length;i+=n){for(var a=i+n,o=[],s=i;s<a;s++)o.push(Object(f.jsx)(t,{id:s,squareObj:e[s]},s));r.push(Object(f.jsx)("div",{className:"board-row",children:o},i))}return r}(e.squares,G,5);return Object(f.jsx)("div",{className:e.class,children:t})},V=function(){var e=Object(g.c)((function(e){return e.score})),t=Object(g.b)(),n=Object(g.c)((function(e){return e.gameOver})),c=Object(g.c)((function(e){return e.squares})),r=Object(g.c)((function(e){return e.coinAndMagePos})),i=Object(g.c)((function(e){return e.timer.time})),a=Object(g.c)((function(e){return e.timer.timerId})),o=function(e,t,n,c,r,i,a){if(n){var o=p(i);return Object(f.jsx)(T,{img:"./gameOverGirl.png",renderScore:o})}return Object(f.jsxs)("div",{className:"game-board",children:[Object(f.jsx)("div",{className:"score",children:Object(f.jsxs)("h2",{children:["Score: ",i]})}),Object(f.jsx)("div",{className:"timer",children:Object(f.jsxs)("h2",{children:["Time: ",a]})}),Object(f.jsx)(e,{class:"board",squares:c,coinAndMagePos:r,img:d,coinImg:l,dispatch:t,timer:a})]})}(S,t,n,c,r,e,i),s=Object(f.jsxs)("div",{className:"instructions",children:[Object(f.jsx)("h1",{children:"DOGE Fairy Game!"}),Object(f.jsx)("h2",{children:"Rules:"}),Object(f.jsx)("h3",{children:"1. Use keyboard arrows (\u2190 \u2191 \u2193 \u2192) to move your Fairy"}),Object(f.jsx)("h3",{children:"1. Use Enter key to restart"}),Object(f.jsx)("h3",{children:"2. If you move over the edge it's game over"}),Object(f.jsx)("h3",{children:"3. Collect as many DOGE in 60 sec to fly to the moon!"})]});return n&&(clearTimeout(a),s=null),Object(f.jsxs)("div",{className:"game",children:[o,s]})};a.a.render(Object(f.jsx)(g.a,{store:D,children:Object(f.jsx)(V,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e670a26f.chunk.js.map