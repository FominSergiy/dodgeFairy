(this.webpackJsonpdodge_fairy=this.webpackJsonpdodge_fairy||[]).push([[0],{15:function(e,n,c){},16:function(e,n,c){},22:function(e,n,c){"use strict";c.r(n);var t=c(0),a=c.n(t),o=c(5),i=c.n(o),s=(c(15),c(16),c(3)),r=c(2),O=c(10),u=c(9),g="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e32c26ba-2bab-4113-ae4d-2e0fddb012f3/dbhkef2-0480b859-092c-47fc-ba78-5f299736997e.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2UzMmMyNmJhLTJiYWItNDExMy1hZTRkLTJlMGZkZGIwMTJmM1wvZGJoa2VmMi0wNDgwYjg1OS0wOTJjLTQ3ZmMtYmE3OC01ZjI5OTczNjk5N2UuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.tNrQD0-ER3hxMGn67aqGJm8fSUcTuDFEkXtLgYT9SfU",j="./dodg.gif",b={left:{type:"MOVE_LEFT",posChange:1},up:{type:"MOVE_UP",posChange:5},right:{type:"MOVE_RIGHT",posChange:-1},down:{type:"MOVE_DOWN",posChange:-5}},l={37:{type:"MOVE_LEFT",posChange:1},38:{type:"MOVE_UP",posChange:5},39:{type:"MOVE_RIGHT",posChange:-1},40:{type:"MOVE_DOWN",posChange:-5}},d={1:[0,5,10,15,20],5:[0,1,2,3,4],"-1":[4,9,14,19,24],"-5":[20,21,22,23,24]},m=c(1),M=function e(n,c){var t=Math.pow(c,2),a=Math.floor(Math.random()*t);return a===n?e(n,c):a},h=function(e,n,c,t){var a=M(n,e),o=Math.pow(e,2);return[Array(o).fill(null).reduce((function(e,o,i){var O={value:null,id:i,mage:n===i?c:null,coin:a===i?t:null};return Object(r.a)(Object(r.a)({},e),{},Object(s.a)({},i,O))}),{}),a]}(5,12,g,j),E=Object(O.a)(h,2),f=E[0],v={mage:12,coin:E[1]},p=Object(u.a)({squares:function(){var e,n,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_UP":case"MOVE_DOWN":case"MOVE_RIGHT":case"MOVE_LEFT":return Object(r.a)(Object(r.a)({},c),{},(e={},Object(s.a)(e,t.currentMagePos,Object(r.a)(Object(r.a)({},c[t.currentMagePos]),{},{mage:null})),Object(s.a)(e,t.newMagePos,Object(r.a)(Object(r.a)({},c[t.newMagePos]),{},{mage:t.img})),e));case"MOVE_UP_COIN_RESET":case"MOVE_DOWN_COIN_RESET":case"MOVE_RIGHT_COIN_RESET":case"MOVE_LEFT_COIN_RESET":return Object(r.a)(Object(r.a)({},c),{},(n={},Object(s.a)(n,t.currentMagePos,Object(r.a)(Object(r.a)({},c[t.currentMagePos]),{},{mage:null})),Object(s.a)(n,t.newMagePos,Object(r.a)(Object(r.a)({},c[t.newMagePos]),{},{mage:t.img,coin:null})),Object(s.a)(n,t.newCoinPos,Object(r.a)(Object(r.a)({},c[t.newCoinPos]),{},{coin:t.coinImg})),n));case"RESET":return f;default:return c}},coinAndMagePos:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"UPDATE_BOTH":return console.dir(c),Object(r.a)(Object(r.a)({},n),{},(e={},Object(s.a)(e,c.coin,c.coinPos),Object(s.a)(e,c.mage,c.magePos),e));case"UPDATE_MAGE_POS":return Object(r.a)(Object(r.a)({},n),{},Object(s.a)({},c.mage,c.position));case"UPDATE_COIN_POS":return Object(r.a)(Object(r.a)({},n),{},Object(s.a)({},c.coin,c.position));case"RESET":return v;default:return n}},gameOver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GAME_OVER":return n.isOver;case"RESET":return!1;default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_ONE":return e+n.value;case"RESET":return 0;default:return e}}}),y=Object(u.b)(p),T=c(4),w=function(e){var n=e.squareObj,c=P("mage",n.mage),t=P("coin",n.coin);return Object(m.jsx)("div",{className:"square",id:e.id,children:c||t})},P=function(e,n){switch(e){case"mage":return n?Object(m.jsx)("img",{src:n,style:{width:"100%",height:"100%"}}):null;case"coin":return n?Object(m.jsx)("img",{src:n,style:{width:"50%",height:"50%"}}):null}},_=function(e,n,c,t,a){console.log("makeMove");var o=e.mage,i=t.posChange,s=t.type,r=o-i,O=I(e,i);if(N(o,i))a({type:"GAME_OVER",isOver:!0});else if(O){var u=M(r,5);a({type:"".concat(s,"_COIN_RESET"),currentMagePos:o,newMagePos:r,newCoinPos:u,img:n,coinImg:c}),a({type:"UPDATE_BOTH",mage:"mage",magePos:r,coin:"coin",coinPos:u}),a({type:"ADD_ONE",value:1})}else a({type:s,currentMagePos:o,newMagePos:r,img:n}),a({type:"UPDATE_MAGE_POS",mage:"mage",position:r})},N=function(e,n){return d["".concat(n)].includes(e)},I=function(e,n){return e.mage-n===e.coin},x=function(e){var n=function(e,n){return Object.keys(b).map((function(c){var t=b[c];return Object(m.jsx)(e,{class:"button",value:c,makeMove:_,coinAndMagePos:n.coinAndMagePos,buttonObj:t,img:n.img,coinImg:n.coinImg},c)}))}(C,e);return Object(m.jsx)("div",{className:"controls",children:n})},C=function(e){var n=Object(T.b)();return Object(m.jsx)("div",{className:e.class,onClick:function(){return e.makeMove(e.coinAndMagePos,e.img,e.coinImg,e.buttonObj,n)},children:e.value})},V=function(e){console.log("reset");var n=function(n){if(!!Object.keys(l).includes("".concat(n.keyCode))){console.log(n.keyCode);var c=l["".concat(n.keyCode)];_(e.coinAndMagePos,e.img,e.coinImg,c,e.dispatch)}};a.a.useEffect((function(){return window.addEventListener("keydown",n),console.log("useEffect here!"),function(){window.removeEventListener("keydown",n)}}),[e.coinAndMagePos.coin,n]);var c=function(e,n,c){for(var t=Object.keys(e),a=[],o=0;o<t.length;o+=c){for(var i=o+c,s=[],r=o;r<i;r++)s.push(Object(m.jsx)(n,{id:r,squareObj:e[r]},r));a.push(Object(m.jsx)("div",{className:"board-row",children:s},o))}return a}(e.squares,w,5);return Object(m.jsx)("div",{className:e.class,children:c})},k=function(){var e=Object(T.c)((function(e){return e.score})),n=function(e,n,c,t,a){return n?Object(m.jsxs)("div",{className:"game-board",children:[Object(m.jsxs)("div",{className:"score",children:["Score: ",a]}),Object(m.jsx)("div",{className:"board lost",children:"YOU LOST YOU FILTY COW!"}),Object(m.jsx)("button",{onClick:function(){return e({type:"RESET"})},children:"restart"})]}):Object(m.jsxs)("div",{className:"game-board",children:[Object(m.jsxs)("div",{className:"score",children:["Score: ",a]}),Object(m.jsx)(V,{class:"board",squares:c,coinAndMagePos:t,img:g,coinImg:j,dispatch:e}),Object(m.jsx)(x,{coinAndMagePos:t,img:g,coinImg:j})]})}(Object(T.b)(),Object(T.c)((function(e){return e.gameOver})),Object(T.c)((function(e){return e.squares})),Object(T.c)((function(e){return e.coinAndMagePos})),e);return Object(m.jsx)("div",{className:"game",children:n})};i.a.render(Object(m.jsx)(T.a,{store:y,children:Object(m.jsx)(k,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d60b341a.chunk.js.map