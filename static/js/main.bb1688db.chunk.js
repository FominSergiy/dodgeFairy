(this.webpackJsonpdodge_fairy=this.webpackJsonpdodge_fairy||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(5),r=n.n(i),o=(n(16),n(17),n(3)),s=n(2),u=n(11),O=n(6),j=n(10),m="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e32c26ba-2bab-4113-ae4d-2e0fddb012f3/dbhkef2-0480b859-092c-47fc-ba78-5f299736997e.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2UzMmMyNmJhLTJiYWItNDExMy1hZTRkLTJlMGZkZGIwMTJmM1wvZGJoa2VmMi0wNDgwYjg1OS0wOTJjLTQ3ZmMtYmE3OC01ZjI5OTczNjk5N2UuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.tNrQD0-ER3hxMGn67aqGJm8fSUcTuDFEkXtLgYT9SfU",b="./dodg.gif",g={left:{type:"MOVE_LEFT",posChange:1},up:{type:"MOVE_UP",posChange:5},right:{type:"MOVE_RIGHT",posChange:-1},down:{type:"MOVE_DOWN",posChange:-5}},d={37:{type:"MOVE_LEFT",posChange:1},38:{type:"MOVE_UP",posChange:5},39:{type:"MOVE_RIGHT",posChange:-1},40:{type:"MOVE_DOWN",posChange:-5}},l={1:[0,5,10,15,20],5:[0,1,2,3,4],"-1":[4,9,14,19,24],"-5":[20,21,22,23,24]},f=n(1),E=function e(t,n){var c=Math.pow(n,2),a=Math.floor(Math.random()*c);return a===t?e(t,n):a},h=function(e,t,n,c){var a=E(t,e),i=Math.pow(e,2);return[Array(i).fill(null).reduce((function(e,i,r){var u={value:null,id:r,mage:t===r?n:null,coin:a===r?c:null};return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},r,u))}),{}),a]}(5,12,m,b),M=Object(u.a)(h,2),v=M[0],p={mage:12,coin:M[1]},T={time:60,timerId:null},y=Object(O.b)({squares:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"MOVE_UP":case"MOVE_DOWN":case"MOVE_RIGHT":case"MOVE_LEFT":return Object(s.a)(Object(s.a)({},n),{},(e={},Object(o.a)(e,c.currentMagePos,Object(s.a)(Object(s.a)({},n[c.currentMagePos]),{},{mage:null})),Object(o.a)(e,c.newMagePos,Object(s.a)(Object(s.a)({},n[c.newMagePos]),{},{mage:c.img})),e));case"MOVE_UP_COIN_RESET":case"MOVE_DOWN_COIN_RESET":case"MOVE_RIGHT_COIN_RESET":case"MOVE_LEFT_COIN_RESET":return Object(s.a)(Object(s.a)({},n),{},(t={},Object(o.a)(t,c.currentMagePos,Object(s.a)(Object(s.a)({},n[c.currentMagePos]),{},{mage:null})),Object(o.a)(t,c.newMagePos,Object(s.a)(Object(s.a)({},n[c.newMagePos]),{},{mage:c.img,coin:null})),Object(o.a)(t,c.newCoinPos,Object(s.a)(Object(s.a)({},n[c.newCoinPos]),{},{coin:c.coinImg,mage:null})),t));case"RESET":return v;default:return n}},coinAndMagePos:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_BOTH":return console.dir(n),Object(s.a)(Object(s.a)({},t),{},(e={},Object(o.a)(e,n.coin,n.coinPos),Object(o.a)(e,n.mage,n.magePos),e));case"UPDATE_MAGE_POS":return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},n.mage,n.position));case"UPDATE_COIN_POS":return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},n.coin,n.position));case"RESET":return p;default:return t}},gameOver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAME_OVER":return t.isOver;case"RESET":return!1;default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ONE":return e+t.value;case"RESET":return 0;default:return e}},timer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DECREMENT_COUNTER":return Object(s.a)(Object(s.a)({},t),{},(e={},Object(o.a)(e,"time",t.time-1),Object(o.a)(e,"timerId",n.timerId),e));case"RESET":return T;default:return t}}}),N=Object(O.c)(y,Object(O.a)(j.a)),_=n(4),w=function(e){var t=e.squareObj,n=I("mage",t.mage),c=I("coin",t.coin);return Object(f.jsx)("div",{className:"square",id:e.id,children:n||c})},I=function(e,t){switch(e){case"mage":return t?Object(f.jsx)("img",{src:t,style:{width:"100%",height:"100%"}}):null;case"coin":return t?Object(f.jsx)("img",{src:t,style:{width:"50%",height:"50%"}}):null}},P=function(e){return function(t){t({type:"DECREMENT_COUNTER",timerId:e})}},C=function(e,t,n,c,a,i){console.log("makeMove"),60===i&&x(i,a);var r=e.mage,o=c.posChange,s=c.type,u=r-o,O=R(e,o);if(V(r,o))a((function(e){e({type:"GAME_OVER",isOver:!0})}));else if(O){a(function(e,t,n,c,a,i){return function(r){r(function(e,t,n,c,a,i){return{type:"".concat(e,"_COIN_RESET"),currentMagePos:t,newMagePos:n,newCoinPos:c,img:a,coinImg:i}}(e,t,n,c,a,i)),r(function(e,t){return{type:"UPDATE_BOTH",mage:"mage",magePos:e,coin:"coin",coinPos:t}}(n,c)),r({type:"ADD_ONE",value:1})}}(s,r,u,E(u,5),t,n))}else a(function(e,t,n,c){return function(a){a(function(e,t,n,c){return{type:e,currentMagePos:t,newMagePos:n,img:c}}(e,t,n,c)),a({type:"UPDATE_MAGE_POS",mage:"mage",position:n})}}(s,r,u,t))},x=function(e,t){e--,t(P());var n=setTimeout((function c(){0===e?t((function(e){e({type:"GAME_OVER",isOver:!0})})):(e--,n=setTimeout(c,1e3),t(P(n)))}),1e3)},V=function(e,t){return l["".concat(t)].includes(e)},R=function(e,t){return e.mage-t===e.coin},k=function(e){var t=function(e,t){return Object.keys(g).map((function(n){var c=g[n];return Object(f.jsx)(e,{class:"button",value:n,makeMove:C,coinAndMagePos:t.coinAndMagePos,buttonObj:c,img:t.img,coinImg:t.coinImg,timer:t.timer},n)}))}(D,e);return Object(f.jsx)("div",{className:"controls",children:t})},D=function(e){var t=Object(_.b)();return Object(f.jsx)("div",{className:e.class,onClick:function(){return e.makeMove(e.coinAndMagePos,e.img,e.coinImg,e.buttonObj,t,e.timer)},children:e.value})},A=function(e){var t=function(t){if(!!Object.keys(d).includes("".concat(t.keyCode))){var n=d["".concat(t.keyCode)];C(e.coinAndMagePos,e.img,e.coinImg,n,e.dispatch,e.timer)}};a.a.useEffect((function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[t]);var n=function(e,t,n){for(var c=Object.keys(e),a=[],i=0;i<c.length;i+=n){for(var r=i+n,o=[],s=i;s<r;s++)o.push(Object(f.jsx)(t,{id:s,squareObj:e[s]},s));a.push(Object(f.jsx)("div",{className:"board-row",children:o},i))}return a}(e.squares,w,5);return Object(f.jsx)("div",{className:e.class,children:n})},G=function(){var e=Object(_.c)((function(e){return e.score})),t=Object(_.b)(),n=Object(_.c)((function(e){return e.gameOver})),c=Object(_.c)((function(e){return e.squares})),a=Object(_.c)((function(e){return e.coinAndMagePos})),i=Object(_.c)((function(e){return e.timer.time})),r=Object(_.c)((function(e){return e.timer.timerId})),o=function(e,t,n,c,a,i){return t?Object(f.jsxs)("div",{className:"game-board",children:[Object(f.jsxs)("div",{className:"score",children:["Score: ",a]}),Object(f.jsxs)("div",{className:"timer",children:["Time Left (sec): ",i]}),Object(f.jsx)("div",{className:"board lost",children:"YOU LOST YOU FILTY COW!"}),Object(f.jsx)("button",{onClick:function(){return e({type:"RESET"})},children:"restart"})]}):Object(f.jsxs)("div",{className:"game-board",children:[Object(f.jsxs)("div",{className:"score",children:["Score: ",a]}),Object(f.jsxs)("div",{className:"timer",children:["Time Left (sec): ",i]}),Object(f.jsx)(A,{class:"board",squares:n,coinAndMagePos:c,img:m,coinImg:b,dispatch:e,timer:i}),Object(f.jsx)(k,{coinAndMagePos:c,img:m,coinImg:b})]})}(t,n,c,a,e,i);return n&&clearTimeout(r),Object(f.jsx)("div",{className:"game",children:o})};r.a.render(Object(f.jsx)(_.a,{store:N,children:Object(f.jsx)(G,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.bb1688db.chunk.js.map