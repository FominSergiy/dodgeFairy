(this.webpackJsonpdodge_fairy=this.webpackJsonpdodge_fairy||[]).push([[0],{16:function(e,n,t){},17:function(e,n,t){},23:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),o=t(5),i=t.n(o),r=(t(16),t(17),t(3)),s=t(2),u=t(11),O=t(6),g=t(10),j="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/e32c26ba-2bab-4113-ae4d-2e0fddb012f3/dbhkef2-0480b859-092c-47fc-ba78-5f299736997e.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2UzMmMyNmJhLTJiYWItNDExMy1hZTRkLTJlMGZkZGIwMTJmM1wvZGJoa2VmMi0wNDgwYjg1OS0wOTJjLTQ3ZmMtYmE3OC01ZjI5OTczNjk5N2UuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.tNrQD0-ER3hxMGn67aqGJm8fSUcTuDFEkXtLgYT9SfU",b="dodgeFairy/dodg.gif",l={left:{type:"MOVE_LEFT",posChange:1},up:{type:"MOVE_UP",posChange:5},right:{type:"MOVE_RIGHT",posChange:-1},down:{type:"MOVE_DOWN",posChange:-5}},d={37:{type:"MOVE_LEFT",posChange:1},38:{type:"MOVE_UP",posChange:5},39:{type:"MOVE_RIGHT",posChange:-1},40:{type:"MOVE_DOWN",posChange:-5}},m={1:[0,5,10,15,20],5:[0,1,2,3,4],"-1":[4,9,14,19,24],"-5":[20,21,22,23,24]},f=t(1),M=function e(n,t){var c=Math.pow(t,2),a=Math.floor(Math.random()*c);return a===n?e(n,t):a},h=function(e,n,t,c){var a=M(n,e),o=Math.pow(e,2);return[Array(o).fill(null).reduce((function(e,o,i){var u={value:null,id:i,mage:n===i?t:null,coin:a===i?c:null};return Object(s.a)(Object(s.a)({},e),{},Object(r.a)({},i,u))}),{}),a]}(5,12,j,b),E=Object(u.a)(h,2),v=E[0],p={mage:12,coin:E[1]},y=Object(O.b)({squares:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"MOVE_UP":case"MOVE_DOWN":case"MOVE_RIGHT":case"MOVE_LEFT":return Object(s.a)(Object(s.a)({},t),{},(e={},Object(r.a)(e,c.currentMagePos,Object(s.a)(Object(s.a)({},t[c.currentMagePos]),{},{mage:null})),Object(r.a)(e,c.newMagePos,Object(s.a)(Object(s.a)({},t[c.newMagePos]),{},{mage:c.img})),e));case"MOVE_UP_COIN_RESET":case"MOVE_DOWN_COIN_RESET":case"MOVE_RIGHT_COIN_RESET":case"MOVE_LEFT_COIN_RESET":return Object(s.a)(Object(s.a)({},t),{},(n={},Object(r.a)(n,c.currentMagePos,Object(s.a)(Object(s.a)({},t[c.currentMagePos]),{},{mage:null})),Object(r.a)(n,c.newMagePos,Object(s.a)(Object(s.a)({},t[c.newMagePos]),{},{mage:c.img,coin:null})),Object(r.a)(n,c.newCoinPos,Object(s.a)(Object(s.a)({},t[c.newCoinPos]),{},{coin:c.coinImg,mage:null})),n));case"RESET":return v;default:return t}},coinAndMagePos:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BOTH":return console.dir(t),Object(s.a)(Object(s.a)({},n),{},(e={},Object(r.a)(e,t.coin,t.coinPos),Object(r.a)(e,t.mage,t.magePos),e));case"UPDATE_MAGE_POS":return Object(s.a)(Object(s.a)({},n),{},Object(r.a)({},t.mage,t.position));case"UPDATE_COIN_POS":return Object(s.a)(Object(s.a)({},n),{},Object(r.a)({},t.coin,t.position));case"RESET":return p;default:return n}},gameOver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GAME_OVER":return n.isOver;case"RESET":return!1;default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_ONE":return e+n.value;case"RESET":return 0;default:return e}}}),T=Object(O.c)(y,Object(O.a)(g.a)),w=t(4),_=function(e){var n=e.squareObj,t=P("mage",n.mage),c=P("coin",n.coin);return Object(f.jsx)("div",{className:"square",id:e.id,children:t||c})},P=function(e,n){switch(e){case"mage":return n?Object(f.jsx)("img",{src:n,style:{width:"100%",height:"100%"}}):null;case"coin":return n?Object(f.jsx)("img",{src:n,style:{width:"50%",height:"50%"}}):null}},N=function(e,n,t,c,a){console.log("makeMove");var o=e.mage,i=c.posChange,r=c.type,s=o-i,u=x(e,i);if(I(o,i))a((function(e){e({type:"GAME_OVER",isOver:!0})}));else if(u){a(function(e,n,t,c,a,o){return function(i){i(function(e,n,t,c,a,o){return{type:"".concat(e,"_COIN_RESET"),currentMagePos:n,newMagePos:t,newCoinPos:c,img:a,coinImg:o}}(e,n,t,c,a,o)),i(function(e,n){return{type:"UPDATE_BOTH",mage:"mage",magePos:e,coin:"coin",coinPos:n}}(t,c)),i({type:"ADD_ONE",value:1})}}(r,o,s,M(s,5),n,t))}else a(function(e,n,t,c){return function(a){a(function(e,n,t,c){return{type:e,currentMagePos:n,newMagePos:t,img:c}}(e,n,t,c)),a({type:"UPDATE_MAGE_POS",mage:"mage",position:t})}}(r,o,s,n))},I=function(e,n){return m["".concat(n)].includes(e)},x=function(e,n){return e.mage-n===e.coin},C=function(e){var n=function(e,n){return Object.keys(l).map((function(t){var c=l[t];return Object(f.jsx)(e,{class:"button",value:t,makeMove:N,coinAndMagePos:n.coinAndMagePos,buttonObj:c,img:n.img,coinImg:n.coinImg},t)}))}(V,e);return Object(f.jsx)("div",{className:"controls",children:n})},V=function(e){var n=Object(w.b)();return Object(f.jsx)("div",{className:e.class,onClick:function(){return e.makeMove(e.coinAndMagePos,e.img,e.coinImg,e.buttonObj,n)},children:e.value})},k=function(e){console.log("reset");var n=function(n){if(!!Object.keys(d).includes("".concat(n.keyCode))){console.log(n.keyCode);var t=d["".concat(n.keyCode)];N(e.coinAndMagePos,e.img,e.coinImg,t,e.dispatch)}};a.a.useEffect((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[n]);var t=function(e,n,t){for(var c=Object.keys(e),a=[],o=0;o<c.length;o+=t){for(var i=o+t,r=[],s=o;s<i;s++)r.push(Object(f.jsx)(n,{id:s,squareObj:e[s]},s));a.push(Object(f.jsx)("div",{className:"board-row",children:r},o))}return a}(e.squares,_,5);return Object(f.jsx)("div",{className:e.class,children:t})},A=function(){var e=Object(w.c)((function(e){return e.score})),n=function(e,n,t,c,a){return n?Object(f.jsxs)("div",{className:"game-board",children:[Object(f.jsxs)("div",{className:"score",children:["Score: ",a]}),Object(f.jsx)("div",{className:"board lost",children:"YOU LOST YOU FILTY COW!"}),Object(f.jsx)("button",{onClick:function(){return e({type:"RESET"})},children:"restart"})]}):Object(f.jsxs)("div",{className:"game-board",children:[Object(f.jsxs)("div",{className:"score",children:["Score: ",a]}),Object(f.jsx)(k,{class:"board",squares:t,coinAndMagePos:c,img:j,coinImg:b,dispatch:e}),Object(f.jsx)(C,{coinAndMagePos:c,img:j,coinImg:b})]})}(Object(w.b)(),Object(w.c)((function(e){return e.gameOver})),Object(w.c)((function(e){return e.squares})),Object(w.c)((function(e){return e.coinAndMagePos})),e);return Object(f.jsx)("div",{className:"game",children:n})};i.a.render(Object(f.jsx)(w.a,{store:T,children:Object(f.jsx)(A,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.6d52c092.chunk.js.map